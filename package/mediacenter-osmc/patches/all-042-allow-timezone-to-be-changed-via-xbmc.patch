From b75e467da7a8277fa8bc4ea4be41645c46322995 Mon Sep 17 00:00:00 2001
From: Sam Nazarko <email@samnazarko.co.uk>
Date: Tue, 22 Sep 2015 01:07:46 +0100
Subject: [PATCH] Allow timezone to be changed via xbmc() Python interface

Signed-off-by: Sam Nazarko <email@samnazarko.co.uk>
---
 xbmc/interfaces/legacy/ModuleXbmc.cpp |  9 ++++++++-
 xbmc/interfaces/legacy/ModuleXbmc.h   | 11 +++++++++++
 2 files changed, 19 insertions(+), 1 deletion(-)

diff --git a/xbmc/interfaces/legacy/ModuleXbmc.cpp b/xbmc/interfaces/legacy/ModuleXbmc.cpp
index 2d610ca..eb9f69c 100644
--- a/xbmc/interfaces/legacy/ModuleXbmc.cpp
+++ b/xbmc/interfaces/legacy/ModuleXbmc.cpp
@@ -564,4 +564,11 @@ namespace XBMCAddon
       if (! hostname)
       return;
       CSettings::Get().SetString("services.devicename", hostname);
-    }
\ No newline at end of file
+    }
+	    void settimezone(const char* timezone)
+    {
+      XBMC_TRACE;
+      if (! timezone)
+      return;
+      CSettings::Get().SetString("locale.timezone", timezone);
+    }
diff --git a/xbmc/interfaces/legacy/ModuleXbmc.h b/xbmc/interfaces/legacy/ModuleXbmc.h
index e0cb3be..1de07bb 100644
--- a/xbmc/interfaces/legacy/ModuleXbmc.h
+++ b/xbmc/interfaces/legacy/ModuleXbmc.h
@@ -472,3 +472,14 @@ namespace XBMCAddon
         */
 
         void sethostname(const char* hostname);
+       /**
+        * settimezone(timezone) -- Change the timezone, and in turn, system timezone
+        *
+        * timezone               :     string - the name of the timezone to change to
+        *
+        *
+        * example:
+        *    - xbmc.settimezone("Europe/London")
+        */
+
+        void settimezone(const char* timezone);
-- 
2.6.1.windows.1

